module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},4577,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(83497),f=a.i(87532);let g=(0,a.i(70106).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var h=a.i(32860),i=a.i(24987),j=a.i(41675),k=a.i(40695),l=a.i(5522),m=a.i(87682),n=a.i(53131),o=a.i(53250);function p(){let{backendUser:a}=(0,n.useAuth)(),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("all"),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(1),[D,E]=(0,c.useState)(0),F=async a=>{try{s(!0);let b=new URLSearchParams;t&&b.append("search",t),"all"!==v&&b.append("status",v);let c=a||`/customers/me/orders/?${b.toString()}`;if(a&&a.startsWith("http")){let b=new URL(a);c=b.pathname+b.search}let d=await o.default.get(c);q(d.data.results),y(d.data.next),A(d.data.previous),E(d.data.count)}catch(a){console.error("Failed to fetch orders:",a)}finally{s(!1)}};(0,c.useEffect)(()=>{let b=setTimeout(()=>{a&&F()},500);return()=>clearTimeout(b)},[t,v,a]);let G=(a,b)=>{a&&(F(a),C(a=>"next"===b?a+1:a-1))};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"My Orders"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Track and manage all your shipments in one place."})]}),(0,b.jsx)("div",{className:"bg-card rounded-xl border border-border p-6 shadow-sm",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-[1fr_200px] gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,b.jsx)(l.Input,{placeholder:"Search by ID, city, or address...",value:t,onChange:a=>u(a.target.value),className:"pl-10 h-12 bg-background border-input text-foreground"})]}),(0,b.jsxs)(m.Select,{value:v,onValueChange:w,children:[(0,b.jsxs)(m.SelectTrigger,{className:"h-12 bg-background border-input text-foreground",children:[(0,b.jsx)(g,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(m.SelectValue,{placeholder:"Filter by status"})]}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"All Orders"}),(0,b.jsx)(m.SelectItem,{value:"PENDING",children:"Pending"}),(0,b.jsx)(m.SelectItem,{value:"IN_TRANSIT",children:"In Transit"}),(0,b.jsx)(m.SelectItem,{value:"DELIVERED",children:"Delivered"}),(0,b.jsx)(m.SelectItem,{value:"CANCELLED",children:"Cancelled"})]})]})]})}),(0,b.jsx)("div",{className:"space-y-4",children:r?(0,b.jsx)("div",{className:"p-12 text-center text-muted-foreground",children:"Loading orders..."}):0===p.length?(0,b.jsxs)("div",{className:"bg-card rounded-xl border border-border p-12 text-center shadow-sm",children:[(0,b.jsx)(e.Package,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No orders found"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filters."}),(0,b.jsx)(k.Button,{asChild:!0,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:(0,b.jsx)(d.default,{href:"/book",children:"Create New Order"})})]}):p.map(a=>(0,b.jsx)("div",{className:"bg-card rounded-xl border border-border p-6 hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-foreground",children:["Order #",a.job_number?a.job_number:`${a.id.slice(0,8)}...`]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${(a=>{switch(a){case"IN_TRANSIT":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"DELIVERED":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"PENDING":return"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400";case"CANCELLED":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-muted text-muted-foreground"}})(a.status)}`,children:a.status.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(i.MapPin,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.pickup_city}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["â†’ ",a.delivery_city]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(j.Calendar,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-foreground",children:["Pickup: ",new Date(a.requested_pickup_date).toLocaleDateString()]}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["ETA: ",a.estimated_delivery?new Date(a.estimated_delivery).toLocaleDateString():"Pending"]})]})]})]}),(0,b.jsx)("div",{className:"pt-2 border-t border-border",children:(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:a.service_type.replace("_"," ")})})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-shrink-0",children:[(0,b.jsx)(k.Button,{asChild:!0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:(0,b.jsxs)(d.default,{href:`/track/${a.id}`,children:["Track Order ",(0,b.jsx)(h.ArrowRight,{className:"ml-2 h-4 w-4"})]})}),(0,b.jsx)(k.Button,{asChild:!0,variant:"outline",className:"text-foreground border-input hover:bg-accent hover:text-accent-foreground",children:(0,b.jsx)(d.default,{href:`/dashboard/orders/${a.id}`,children:"View Details"})})]})]})},a.id))}),D>0&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-6",children:[(0,b.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>G(z,"prev"),disabled:!z,className:"text-foreground border-input disabled:opacity-50",children:"Previous"}),(0,b.jsxs)("span",{className:"text-sm text-foreground",children:["Page ",B]}),(0,b.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>G(x,"next"),disabled:!x,className:"text-foreground border-input disabled:opacity-50",children:"Next"})]})]})}a.s(["default",()=>p],4577)}];

//# sourceMappingURL=_da5fcb10._.js.map