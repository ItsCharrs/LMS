module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(187),h=a.i(97895);let i=(0,g.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(f,{ref:d,className:(0,h.cn)(i(),a),...c}));j.displayName=f.displayName,a.s(["Label",()=>j],17171)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},39117,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(70106);let f=(0,e.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),g=(0,e.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var h=a.i(81010);let i=(0,e.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),j=(0,e.default)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var k=a.i(40695),l=a.i(5522),m=a.i(17171),n=a.i(87682),o=a.i(53131),p=a.i(53250),q=a.i(95245),r=a.i(59501),s=a.i(54714);let t=s.object({label:s.enum(["HOME","OFFICE","WAREHOUSE","OTHER"]),name:s.string().min(2,"Name is required"),address1:s.string().min(5,"Address is required"),address2:s.string().optional(),city:s.string().min(2,"City is required"),state:s.string().length(2,"State must be 2 letters"),zip_code:s.string().min(5,"Zip code is required"),phone:s.string().min(10,"Phone is required"),is_default:s.boolean().optional()});function u(){let{backendUser:a}=(0,o.useAuth)(),[e,s]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(null),{register:A,handleSubmit:B,reset:C,setValue:D,formState:{errors:E}}=(0,q.useForm)({resolver:(0,r.zodResolver)(t),defaultValues:{label:"HOME",is_default:!1,address2:""}}),F=async()=>{try{v(!0);let a=await p.default.get("/customers/me/addresses/");s(a.data)}catch(a){console.error("Failed to fetch addresses:",a)}finally{v(!1)}};(0,c.useEffect)(()=>{a&&F()},[a]);let G=async a=>{let b={...a,is_default:!!a.is_default};try{y?await p.default.put(`/customers/me/addresses/${y}/`,b):await p.default.post("/customers/me/addresses/",b),F(),C(),x(!1),z(null)}catch(a){console.error("Failed to save address:",a),alert("Failed to save address.")}},H=async a=>{if(confirm("Are you sure you want to delete this address?"))try{await p.default.delete(`/customers/me/addresses/${a}/`),F()}catch(a){console.error("Failed to delete address:",a)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Saved Addresses"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your pickup and delivery locations."})]}),!w&&(0,b.jsxs)(k.Button,{onClick:()=>x(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,b.jsx)(d.Plus,{className:"h-5 w-5 mr-2"}),"Add Address"]})]}),w&&(0,b.jsxs)("div",{className:"bg-card rounded-xl border border-border p-6 shadow-sm",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-6",children:y?"Edit Address":"New Address"}),(0,b.jsxs)("form",{onSubmit:B(G),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{htmlFor:"label",className:"text-foreground",children:"Address Label *"}),(0,b.jsxs)(n.Select,{onValueChange:a=>D("label",a),defaultValue:"HOME",children:[(0,b.jsx)(n.SelectTrigger,{id:"label",className:"mt-1 bg-background border-input text-foreground",children:(0,b.jsx)(n.SelectValue,{placeholder:"Select label"})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"HOME",children:"Home"}),(0,b.jsx)(n.SelectItem,{value:"OFFICE",children:"Office"}),(0,b.jsx)(n.SelectItem,{value:"WAREHOUSE",children:"Warehouse"}),(0,b.jsx)(n.SelectItem,{value:"OTHER",children:"Other"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{htmlFor:"name",className:"text-foreground",children:"Full Name *"}),(0,b.jsx)(l.Input,{id:"name",...A("name"),placeholder:"John Doe",className:"mt-1 bg-background border-input text-foreground"}),E.name&&(0,b.jsx)("p",{className:"text-destructive text-sm",children:E.name.message})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{htmlFor:"address1",className:"text-foreground",children:"Street Address *"}),(0,b.jsx)(l.Input,{id:"address1",...A("address1"),placeholder:"123 Main Street",className:"mt-1 bg-background border-input text-foreground"}),E.address1&&(0,b.jsx)("p",{className:"text-destructive text-sm",children:E.address1.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{htmlFor:"address2",className:"text-foreground",children:"Apt, Suite, etc."}),(0,b.jsx)(l.Input,{id:"address2",...A("address2"),placeholder:"Apt 4B",className:"mt-1 bg-background border-input text-foreground"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{htmlFor:"city",className:"text-foreground",children:"City *"}),(0,b.jsx)(l.Input,{id:"city",...A("city"),placeholder:"New York",className:"mt-1 bg-background border-input text-foreground"}),E.city&&(0,b.jsx)("p",{className:"text-destructive text-sm",children:E.city.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{htmlFor:"state",className:"text-foreground",children:"State (2 Letters) *"}),(0,b.jsx)(l.Input,{id:"state",...A("state"),placeholder:"NY",maxLength:2,className:"mt-1 uppercase bg-background border-input text-foreground"}),E.state&&(0,b.jsx)("p",{className:"text-destructive text-sm",children:E.state.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{htmlFor:"zip_code",className:"text-foreground",children:"ZIP Code *"}),(0,b.jsx)(l.Input,{id:"zip_code",...A("zip_code"),placeholder:"10001",className:"mt-1 bg-background border-input text-foreground"}),E.zip_code&&(0,b.jsx)("p",{className:"text-destructive text-sm",children:E.zip_code.message})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(m.Label,{htmlFor:"phone",className:"text-foreground",children:"Phone Number *"}),(0,b.jsx)(l.Input,{id:"phone",...A("phone"),type:"tel",placeholder:"(555) 123-4567",className:"mt-1 bg-background border-input text-foreground"}),E.phone&&(0,b.jsx)("p",{className:"text-destructive text-sm",children:E.phone.message})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"is_default",...A("is_default"),className:"h-4 w-4 rounded border-input"}),(0,b.jsx)(m.Label,{htmlFor:"is_default",className:"cursor-pointer text-foreground",children:"Set as default address"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-border",children:[(0,b.jsx)(k.Button,{type:"submit",className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Save Address"}),(0,b.jsx)(k.Button,{type:"button",variant:"outline",onClick:()=>{x(!1),z(null),C()},className:"bg-background text-foreground hover:bg-muted",children:"Cancel"})]})]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[u?(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading addresses..."}):e.map(a=>(0,b.jsxs)("div",{className:"bg-card rounded-xl border border-border p-6 relative shadow-sm hover:shadow-md transition-shadow",children:[a.is_default&&(0,b.jsx)("span",{className:"absolute top-4 right-4 px-3 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 text-xs font-semibold rounded-full",children:"Default"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:`h-12 w-12 rounded-lg flex items-center justify-center ${"HOME"===a.label?"bg-blue-100 dark:bg-blue-500/10":"bg-green-100 dark:bg-green-500/10"}`,children:"HOME"===a.label?(0,b.jsx)(h.Home,{className:`h-6 w-6 ${"HOME"===a.label?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):(0,b.jsx)(i,{className:`h-6 w-6 ${"HOME"===a.label?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground",children:a.label_display||a.label}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.name})]})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,b.jsx)("p",{className:"text-sm text-foreground",children:a.address1}),a.address2&&(0,b.jsx)("p",{className:"text-sm text-foreground",children:a.address2}),(0,b.jsxs)("p",{className:"text-sm text-foreground",children:[a.city,", ",a.state," ",a.zip_code]}),(0,b.jsx)("p",{className:"text-sm text-foreground",children:a.phone})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-border",children:[(0,b.jsxs)(k.Button,{variant:"outline",size:"sm",className:"flex-1 bg-background text-foreground hover:bg-muted",onClick:()=>{z(a.id),x(!0),D("label",a.label),D("name",a.name),D("address1",a.address1),D("address2",a.address2||""),D("city",a.city),D("state",a.state),D("zip_code",a.zip_code),D("phone",a.phone),D("is_default",a.is_default)},children:[(0,b.jsx)(f,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,b.jsx)(k.Button,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>H(a.id),children:(0,b.jsx)(g,{className:"h-4 w-4"})})]})]},a.id)),!u&&0===e.length&&!w&&(0,b.jsxs)("div",{className:"col-span-2 bg-card rounded-xl border border-border p-12 text-center",children:[(0,b.jsx)(j,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No saved addresses"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Add your first address to speed up future bookings."}),(0,b.jsxs)(k.Button,{onClick:()=>x(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,b.jsx)(d.Plus,{className:"h-5 w-5 mr-2"}),"Add Address"]})]})]})]})}a.s(["default",()=>u],39117)}];

//# sourceMappingURL=_8e35e65a._.js.map