(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,e=>{"use strict";var s=e.i(43476),t=e.i(71645);e.i(74080);var r=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let d=(0,r.createSlot)(`Primitive.${a}`),l=t.forwardRef((e,t)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(r?d:a,{...l,ref:t})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{}),d=t.forwardRef((e,t)=>(0,s.jsx)(a.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));d.displayName="Label";var l=e.i(25913),i=e.i(47163);let o=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=t.forwardRef(({className:e,...t},r)=>(0,s.jsx)(d,{ref:r,className:(0,i.cn)(o(),e),...t}));n.displayName=d.displayName,e.s(["Label",()=>n],10708)},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},66034,e=>{"use strict";var s=e.i(43476),t=e.i(71645),r=e.i(7233),a=e.i(75254);let d=(0,a.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),l=(0,a.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var i=e.i(94351);let o=(0,a.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),n=(0,a.default)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var c=e.i(67881),u=e.i(23750),m=e.i(10708),h=e.i(62870),x=e.i(97815),p=e.i(54858),b=e.i(53145),g=e.i(94814),f=e.i(62201);let j=f.object({label:f.enum(["HOME","OFFICE","WAREHOUSE","OTHER"]),name:f.string().min(2,"Name is required"),address1:f.string().min(5,"Address is required"),address2:f.string().optional(),city:f.string().min(2,"City is required"),state:f.string().length(2,"State must be 2 letters"),zip_code:f.string().min(5,"Zip code is required"),phone:f.string().min(10,"Phone is required"),is_default:f.boolean().optional()});function v(){let{backendUser:e}=(0,x.useAuth)(),[a,f]=(0,t.useState)([]),[v,y]=(0,t.useState)(!0),[N,k]=(0,t.useState)(!1),[w,M]=(0,t.useState)(null),{register:S,handleSubmit:A,reset:_,setValue:E,formState:{errors:F}}=(0,b.useForm)({resolver:(0,g.zodResolver)(j),defaultValues:{label:"HOME",is_default:!1,address2:""}}),O=async()=>{try{y(!0);let e=await p.default.get("/customers/me/addresses/");f(e.data)}catch(e){console.error("Failed to fetch addresses:",e)}finally{y(!1)}};(0,t.useEffect)(()=>{e&&O()},[e]);let z=async e=>{let s={...e,is_default:!!e.is_default};try{w?await p.default.put(`/customers/me/addresses/${w}/`,s):await p.default.post("/customers/me/addresses/",s),O(),_(),k(!1),M(null)}catch(e){console.error("Failed to save address:",e),alert("Failed to save address.")}},L=async e=>{if(confirm("Are you sure you want to delete this address?"))try{await p.default.delete(`/customers/me/addresses/${e}/`),O()}catch(e){console.error("Failed to delete address:",e)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Saved Addresses"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage your pickup and delivery locations."})]}),!N&&(0,s.jsxs)(c.Button,{onClick:()=>k(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,s.jsx)(r.Plus,{className:"h-5 w-5 mr-2"}),"Add Address"]})]}),N&&(0,s.jsxs)("div",{className:"bg-card rounded-xl border border-border p-6 shadow-sm",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-6",children:w?"Edit Address":"New Address"}),(0,s.jsxs)("form",{onSubmit:A(z),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{htmlFor:"label",className:"text-foreground",children:"Address Label *"}),(0,s.jsxs)(h.Select,{onValueChange:e=>E("label",e),defaultValue:"HOME",children:[(0,s.jsx)(h.SelectTrigger,{id:"label",className:"mt-1 bg-background border-input text-foreground",children:(0,s.jsx)(h.SelectValue,{placeholder:"Select label"})}),(0,s.jsxs)(h.SelectContent,{children:[(0,s.jsx)(h.SelectItem,{value:"HOME",children:"Home"}),(0,s.jsx)(h.SelectItem,{value:"OFFICE",children:"Office"}),(0,s.jsx)(h.SelectItem,{value:"WAREHOUSE",children:"Warehouse"}),(0,s.jsx)(h.SelectItem,{value:"OTHER",children:"Other"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{htmlFor:"name",className:"text-foreground",children:"Full Name *"}),(0,s.jsx)(u.Input,{id:"name",...S("name"),placeholder:"John Doe",className:"mt-1 bg-background border-input text-foreground"}),F.name&&(0,s.jsx)("p",{className:"text-destructive text-sm",children:F.name.message})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{htmlFor:"address1",className:"text-foreground",children:"Street Address *"}),(0,s.jsx)(u.Input,{id:"address1",...S("address1"),placeholder:"123 Main Street",className:"mt-1 bg-background border-input text-foreground"}),F.address1&&(0,s.jsx)("p",{className:"text-destructive text-sm",children:F.address1.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{htmlFor:"address2",className:"text-foreground",children:"Apt, Suite, etc."}),(0,s.jsx)(u.Input,{id:"address2",...S("address2"),placeholder:"Apt 4B",className:"mt-1 bg-background border-input text-foreground"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{htmlFor:"city",className:"text-foreground",children:"City *"}),(0,s.jsx)(u.Input,{id:"city",...S("city"),placeholder:"New York",className:"mt-1 bg-background border-input text-foreground"}),F.city&&(0,s.jsx)("p",{className:"text-destructive text-sm",children:F.city.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{htmlFor:"state",className:"text-foreground",children:"State (2 Letters) *"}),(0,s.jsx)(u.Input,{id:"state",...S("state"),placeholder:"NY",maxLength:2,className:"mt-1 uppercase bg-background border-input text-foreground"}),F.state&&(0,s.jsx)("p",{className:"text-destructive text-sm",children:F.state.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{htmlFor:"zip_code",className:"text-foreground",children:"ZIP Code *"}),(0,s.jsx)(u.Input,{id:"zip_code",...S("zip_code"),placeholder:"10001",className:"mt-1 bg-background border-input text-foreground"}),F.zip_code&&(0,s.jsx)("p",{className:"text-destructive text-sm",children:F.zip_code.message})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.Label,{htmlFor:"phone",className:"text-foreground",children:"Phone Number *"}),(0,s.jsx)(u.Input,{id:"phone",...S("phone"),type:"tel",placeholder:"(555) 123-4567",className:"mt-1 bg-background border-input text-foreground"}),F.phone&&(0,s.jsx)("p",{className:"text-destructive text-sm",children:F.phone.message})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"is_default",...S("is_default"),className:"h-4 w-4 rounded border-input"}),(0,s.jsx)(m.Label,{htmlFor:"is_default",className:"cursor-pointer text-foreground",children:"Set as default address"})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-border",children:[(0,s.jsx)(c.Button,{type:"submit",className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Save Address"}),(0,s.jsx)(c.Button,{type:"button",variant:"outline",onClick:()=>{k(!1),M(null),_()},className:"bg-background text-foreground hover:bg-muted",children:"Cancel"})]})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[v?(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading addresses..."}):a.map(e=>(0,s.jsxs)("div",{className:"bg-card rounded-xl border border-border p-6 relative shadow-sm hover:shadow-md transition-shadow",children:[e.is_default&&(0,s.jsx)("span",{className:"absolute top-4 right-4 px-3 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 text-xs font-semibold rounded-full",children:"Default"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:`h-12 w-12 rounded-lg flex items-center justify-center ${"HOME"===e.label?"bg-blue-100 dark:bg-blue-500/10":"bg-green-100 dark:bg-green-500/10"}`,children:"HOME"===e.label?(0,s.jsx)(i.Home,{className:`h-6 w-6 ${"HOME"===e.label?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`}):(0,s.jsx)(o,{className:`h-6 w-6 ${"HOME"===e.label?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}`})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground",children:e.label_display||e.label}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.name})]})]}),(0,s.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,s.jsx)("p",{className:"text-sm text-foreground",children:e.address1}),e.address2&&(0,s.jsx)("p",{className:"text-sm text-foreground",children:e.address2}),(0,s.jsxs)("p",{className:"text-sm text-foreground",children:[e.city,", ",e.state," ",e.zip_code]}),(0,s.jsx)("p",{className:"text-sm text-foreground",children:e.phone})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-border",children:[(0,s.jsxs)(c.Button,{variant:"outline",size:"sm",className:"flex-1 bg-background text-foreground hover:bg-muted",onClick:()=>{M(e.id),k(!0),E("label",e.label),E("name",e.name),E("address1",e.address1),E("address2",e.address2||""),E("city",e.city),E("state",e.state),E("zip_code",e.zip_code),E("phone",e.phone),E("is_default",e.is_default)},children:[(0,s.jsx)(d,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,s.jsx)(c.Button,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>L(e.id),children:(0,s.jsx)(l,{className:"h-4 w-4"})})]})]},e.id)),!v&&0===a.length&&!N&&(0,s.jsxs)("div",{className:"col-span-2 bg-card rounded-xl border border-border p-12 text-center",children:[(0,s.jsx)(n,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No saved addresses"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Add your first address to speed up future bookings."}),(0,s.jsxs)(c.Button,{onClick:()=>k(!0),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[(0,s.jsx)(r.Plus,{className:"h-5 w-5 mr-2"}),"Add Address"]})]})]})]})}e.s(["default",()=>v],66034)}]);