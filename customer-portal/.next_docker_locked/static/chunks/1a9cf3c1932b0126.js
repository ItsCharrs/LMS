(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10708,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var s=e.i(91918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let i=(0,s.createSlot)(`Primitive.${a}`),l=r.forwardRef((e,r)=>{let{asChild:s,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?i:a,{...l,ref:r})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{}),i=r.forwardRef((e,r)=>(0,t.jsx)(a.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=e.i(25913),n=e.i(47163);let d=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i,{ref:s,className:(0,n.cn)(d(),e),...r}));o.displayName=i.displayName,e.s(["Label",()=>o],10708)},15788,e=>{"use strict";let t=(0,e.i(75254).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],15788)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},7486,e=>{"use strict";let t=(0,e.i(75254).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);e.s(["Building2",()=>t],7486)},84762,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(47163);let a=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));a.displayName="Textarea",e.s(["Textarea",()=>a])},96601,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(53145),a=e.i(94814),i=e.i(62201),l=e.i(97815),n=e.i(54858),d=e.i(5766),o=e.i(18566),c=e.i(46932);e.i(47167);var m=e.i(31178),u=e.i(47414),p=e.i(74008),h=e.i(21476),x=e.i(72846),g=r,f=e.i(37806);function b(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class y extends g.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,x.isHTMLElement)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function v({children:e,isPresent:s,anchorX:a,root:i}){let l=(0,g.useId)(),n=(0,g.useRef)(null),d=(0,g.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,g.useContext)(f.MotionConfigContext),c=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,s=e.map(e=>{let s=b(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():b(e[t],null)}}}}(...e),e)}(n,e?.ref);return(0,g.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:c,right:m}=d.current;if(s||!n.current||!e||!t)return;let u="left"===a?`left: ${c}`:`right: ${m}`;n.current.dataset.motionPopId=l;let p=document.createElement("style");o&&(p.nonce=o);let h=i??document.head;return h.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${u}px !important;
            top: ${r}px !important;
          }
        `),()=>{h.contains(p)&&h.removeChild(p)}},[s]),(0,t.jsx)(y,{isPresent:s,childRef:n,sizeRef:d,children:g.cloneElement(e,{ref:c})})}let j=({children:e,initial:s,isPresent:a,onExitComplete:i,custom:l,presenceAffectsLayout:n,mode:d,anchorX:o,root:c})=>{let m=(0,u.useConstant)(N),p=(0,r.useId)(),x=!0,g=(0,r.useMemo)(()=>(x=!1,{id:p,initial:s,isPresent:a,custom:l,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;i&&i()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[a,m,i]);return n&&x&&(g={...g}),(0,r.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[a]),r.useEffect(()=>{a||m.size||!i||i()},[a]),"popLayout"===d&&(e=(0,t.jsx)(v,{isPresent:a,anchorX:o,root:c,children:e})),(0,t.jsx)(h.PresenceContext.Provider,{value:g,children:e})};function N(){return new Map}var k=e.i(64978);let w=e=>e.key||"";function _(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let C=({children:e,custom:s,initial:a=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:n="sync",propagate:d=!1,anchorX:o="left",root:c})=>{let[h,x]=(0,k.usePresence)(d),g=(0,r.useMemo)(()=>_(e),[e]),f=d&&!h?[]:g.map(w),b=(0,r.useRef)(!0),y=(0,r.useRef)(g),v=(0,u.useConstant)(()=>new Map),[N,C]=(0,r.useState)(g),[I,E]=(0,r.useState)(g);(0,p.useIsomorphicLayoutEffect)(()=>{b.current=!1,y.current=g;for(let e=0;e<I.length;e++){let t=w(I[e]);f.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[I,f.length,f.join("-")]);let P=[];if(g!==N){let e=[...g];for(let t=0;t<I.length;t++){let r=I[t],s=w(r);f.includes(s)||(e.splice(t,0,r),P.push(r))}return"wait"===n&&P.length&&(e=P),E(_(e)),C(g),null}let{forceRender:L}=(0,r.useContext)(m.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:I.map(e=>{let r=w(e),m=(!d||!!h)&&(g===I||f.includes(r));return(0,t.jsx)(j,{isPresent:m,initial:(!b.current||!!a)&&void 0,custom:s,presenceAffectsLayout:l,mode:n,root:c,onExitComplete:m?void 0:()=>{if(!v.has(r))return;v.set(r,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(L?.(),E(y.current),d&&x?.(),i&&i())},anchorX:o,children:e},r)})})};var I=e.i(67881),E=e.i(23750),P=e.i(84762),L=e.i(91918),R=e.i(47163),M=e.i(10708);s.FormProvider;let S=r.createContext({}),D=({...e})=>(0,t.jsx)(S.Provider,{value:{name:e.name},children:(0,t.jsx)(s.Controller,{...e})}),F=()=>{let e=r.useContext(S),t=r.useContext(T),{getFieldState:a,formState:i}=(0,s.useFormContext)(),l=a(e.name,i);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},T=r.createContext({}),A=r.forwardRef(({className:e,...s},a)=>{let i=r.useId();return(0,t.jsx)(T.Provider,{value:{id:i},children:(0,t.jsx)("div",{ref:a,className:(0,R.cn)("space-y-2",e),...s})})});A.displayName="FormItem";let $=r.forwardRef(({className:e,...r},s)=>{let{error:a,formItemId:i}=F();return(0,t.jsx)(M.Label,{ref:s,className:(0,R.cn)(a&&"text-destructive",e),htmlFor:i,...r})});$.displayName="FormLabel";let O=r.forwardRef(({...e},r)=>{let{error:s,formItemId:a,formDescriptionId:i,formMessageId:l}=F();return(0,t.jsx)(L.Slot,{ref:r,id:a,"aria-describedby":s?`${i} ${l}`:`${i}`,"aria-invalid":!!s,...e})});O.displayName="FormControl",r.forwardRef(({className:e,...r},s)=>{let{formDescriptionId:a}=F();return(0,t.jsx)("p",{ref:s,id:a,className:(0,R.cn)("text-[0.8rem] text-muted-foreground",e),...r})}).displayName="FormDescription";let q=r.forwardRef(({className:e,children:r,...s},a)=>{let{error:i,formMessageId:l}=F(),n=i?String(i?.message??""):r;return n?(0,t.jsx)("p",{ref:a,id:l,className:(0,R.cn)("text-[0.8rem] font-medium text-destructive",e),...s,children:n}):null});q.displayName="FormMessage";var V=e.i(71689),B=e.i(72520),z=e.i(15788),H=e.i(46897),G=e.i(69638),U=e.i(88844),W=e.i(7486),Y=e.i(94351),J=e.i(87316),K=e.i(30086),X=e.i(87158);let Q=i.object({service_type:i.enum(["RESIDENTIAL_MOVING","OFFICE_RELOCATION","PALLET_DELIVERY","SMALL_DELIVERIES"]),cargo_description:i.string().min(10,"Please provide a more detailed description (at least 10 chars)."),pickup_address:i.string().min(5,"Pickup address is required."),pickup_contact_person:i.string().min(2,{message:"Contact name required."}),pickup_contact_phone:i.string().min(10,{message:"Valid phone number required."}),delivery_address:i.string().min(5,"Delivery address is required."),delivery_contact_person:i.string().min(2,{message:"Contact name required."}),delivery_contact_phone:i.string().min(10,{message:"Valid phone number required."}),requested_pickup_date:i.string().refine(e=>e&&!isNaN(Date.parse(e)),{message:"Please select a valid date and time."})}),Z=[{id:1,name:"Service",fields:["service_type","cargo_description"],icon:U.Package},{id:2,name:"Logistics",fields:["pickup_address","pickup_contact_person","pickup_contact_phone","delivery_address","delivery_contact_person","delivery_contact_phone","requested_pickup_date"],icon:H.MapPin},{id:3,name:"Confirm",icon:G.CheckCircle}],ee={RESIDENTIAL_MOVING:{name:"Residential Moving",description:"Full home moving service with crew",icon:Y.Home},OFFICE_RELOCATION:{name:"Office Relocation",description:"Secure transport for business assets",icon:W.Building2},PALLET_DELIVERY:{name:"Pallet Delivery",description:"Warehouse to warehouse freight",icon:U.Package},SMALL_DELIVERIES:{name:"Small Deliveries",description:"Quick courier for small items",icon:z.Truck}};function et(){let[e,i]=(0,r.useState)(1),[l,n]=(0,r.useState)(null),[d,o]=(0,r.useState)(!1),[m,u]=(0,r.useState)(0),p=(0,s.useForm)({resolver:(0,a.zodResolver)(Q),mode:"onTouched",defaultValues:{service_type:void 0,cargo_description:"",pickup_address:"",pickup_contact_person:"",pickup_contact_phone:"",delivery_address:"",delivery_contact_person:"",delivery_contact_phone:"",requested_pickup_date:""}}),{trigger:h,getValues:x}=p;(0,r.useEffect)(()=>{let e=setTimeout(()=>{d&&o(!1)},100);return()=>clearTimeout(e)},[]);let g=async()=>{let t=Z[e-1].fields;if(!t||await h(t,{shouldFocus:!0})){if(2===e){let e=x(),t=50;"RESIDENTIAL_MOVING"===e.service_type&&(t+=250),"OFFICE_RELOCATION"===e.service_type&&(t+=400),"PALLET_DELIVERY"===e.service_type&&(t+=100),n(t)}e<Z.length&&(u(1),i(e+1))}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-950 py-12 px-4 transition-colors duration-300",children:[(0,t.jsxs)("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-blue-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-emerald-500/5 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"})]}),d&&(0,t.jsx)(K.default,{isOpen:d,onClose:()=>o(!1)}),(0,t.jsx)("div",{className:"relative z-10 container mx-auto max-w-3xl",children:(0,t.jsxs)(s.FormProvider,{...p,children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white tracking-tight mb-2",children:"Book a Shipment"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Get an instant quote and reliable logistics in minutes."})]}),(0,t.jsx)("div",{className:"flex justify-center mb-10",children:(0,t.jsx)("div",{className:"flex items-center gap-4",children:Z.map((r,s)=>{let a=e===r.id,i=e>r.id,l=r.icon;return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`
                                     flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all duration-300
                                     ${i?"bg-emerald-500 border-emerald-500 text-white":a?"bg-primary border-primary text-white shadow-lg shadow-primary/30 scale-110":"bg-white dark:bg-slate-900 border-gray-200 dark:border-gray-700 text-gray-400"}
                                 `,children:i?(0,t.jsx)(G.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(l,{className:"w-5 h-5"})}),s<Z.length-1&&(0,t.jsx)("div",{className:`w-12 h-0.5 mx-2 ${i?"bg-emerald-500":"bg-gray-200 dark:bg-gray-800"}`})]},r.id)})})}),(0,t.jsxs)(X.PremiumCard,{className:"p-0 overflow-hidden bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-white/20 shadow-2xl",children:[(0,t.jsx)("div",{className:"p-8",children:(0,t.jsx)(C,{mode:"wait",custom:m,children:(0,t.jsxs)(c.motion.div,{custom:m,variants:{enter:e=>({x:e>0?50:-50,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?50:-50,opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},children:[1===e&&(0,t.jsx)(es,{}),2===e&&(0,t.jsx)(ea,{}),3===e&&(0,t.jsx)(ei,{price:l,onLoginRequired:()=>o(!0)})]},e)})}),(0,t.jsxs)("div",{className:"bg-gray-50/50 dark:bg-slate-950/50 p-6 border-t border-gray-100 dark:border-gray-800 flex justify-between items-center",children:[(0,t.jsxs)(I.Button,{variant:"ghost",onClick:()=>{e>1&&(u(-1),i(e-1))},disabled:1===e,className:"text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(V.ArrowLeft,{className:"mr-2 h-4 w-4"})," Back"]}),e<Z.length&&(0,t.jsxs)(I.Button,{onClick:g,size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground font-bold shadow-lg shadow-primary/20",children:["Next Step ",(0,t.jsx)(B.ArrowRight,{className:"ml-2 h-4 w-4"})]})]})]})]})})]})}let er=({name:e,label:r,children:a})=>{let{control:i}=(0,s.useFormContext)();return(0,t.jsx)(D,{control:i,name:e,render:({field:e})=>(0,t.jsxs)(A,{className:"mb-5",children:[(0,t.jsx)($,{className:"text-foreground font-medium text-sm flex items-center gap-2",children:r}),(0,t.jsx)(O,{children:(0,t.jsx)("div",{className:"relative",children:a(e)})}),(0,t.jsx)(q,{className:"text-red-500 text-xs mt-1 font-medium"})]})})};function es(){let{setValue:e,watch:r}=(0,s.useFormContext)(),a=r("service_type");return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Select a Service"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(ee).map(([r,{name:s,description:i,icon:l}])=>(0,t.jsxs)("div",{onClick:()=>e("service_type",r,{shouldValidate:!0}),className:`
                        cursor-pointer p-4 rounded-xl border-2 transition-all duration-200 relative overflow-hidden group
                        ${a===r?"border-primary bg-primary/5 shadow-md":"border-gray-200 dark:border-gray-800 hover:border-primary/50 hover:shadow-sm bg-white dark:bg-slate-950"}
                    `,children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${a===r?"bg-primary text-white":"bg-gray-100 dark:bg-gray-800 text-gray-500 group-hover:text-primary transition-colors"}`,children:(0,t.jsx)(l,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:`font-bold ${a===r?"text-primary":"text-gray-900 dark:text-white"}`,children:s}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:i})]})]}),a===r&&(0,t.jsx)("div",{className:"absolute top-2 right-2 text-primary",children:(0,t.jsx)(G.CheckCircle,{className:"w-5 h-5 fill-primary/20"})})]},r))}),(0,t.jsx)("div",{className:"h-0 overflow-hidden",children:(0,t.jsx)(er,{name:"service_type",label:"",children:e=>(0,t.jsx)(E.Input,{...e})})})]}),(0,t.jsx)(er,{name:"cargo_description",label:"Cargo Description",children:e=>(0,t.jsx)(P.Textarea,{rows:4,placeholder:"Describe your items in detail (e.g. '1 large oak dining table, 6 chairs, 10 medium boxes')",...e,className:"bg-white dark:bg-slate-950 border-gray-200 dark:border-gray-800 focus:border-primary focus:ring-primary/20 resize-none"})})]})}function ea(){return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-100 dark:border-gray-800",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:(0,t.jsx)(H.MapPin,{className:"w-4 h-4 text-blue-600"})}),(0,t.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Pickup Details"})]}),(0,t.jsx)(er,{name:"pickup_address",label:"Address",children:e=>(0,t.jsx)(E.Input,{placeholder:"123 Pickup St, City, Country",...e,className:"h-11 bg-white dark:bg-slate-950"})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)(er,{name:"pickup_contact_person",label:"Contact Name",children:e=>(0,t.jsx)(E.Input,{placeholder:"John Doe",...e,className:"h-11 bg-white dark:bg-slate-950"})}),(0,t.jsx)(er,{name:"pickup_contact_phone",label:"Phone",children:e=>(0,t.jsx)(E.Input,{placeholder:"(555) 123-4567",...e,className:"h-11 bg-white dark:bg-slate-950"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-100 dark:border-gray-800",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:(0,t.jsx)(H.MapPin,{className:"w-4 h-4 text-emerald-600"})}),(0,t.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Delivery Details"})]}),(0,t.jsx)(er,{name:"delivery_address",label:"Address",children:e=>(0,t.jsx)(E.Input,{placeholder:"456 Dropoff Ave, City, Country",...e,className:"h-11 bg-white dark:bg-slate-950"})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)(er,{name:"delivery_contact_person",label:"Contact Name",children:e=>(0,t.jsx)(E.Input,{placeholder:"Jane Smith",...e,className:"h-11 bg-white dark:bg-slate-950"})}),(0,t.jsx)(er,{name:"delivery_contact_phone",label:"Phone",children:e=>(0,t.jsx)(E.Input,{placeholder:"(555) 987-6543",...e,className:"h-11 bg-white dark:bg-slate-950"})})]})]})]}),(0,t.jsxs)("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-800",children:[(0,t.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(J.Calendar,{className:"w-5 h-5 text-amber-500"})," Desired Pickup Date"]}),(0,t.jsx)("div",{className:"max-w-xs",children:(0,t.jsx)(er,{name:"requested_pickup_date",label:"",children:e=>(0,t.jsx)(E.Input,{type:"datetime-local",...e,className:"h-12 bg-white dark:bg-slate-950 text-lg"})})})]})]})}function ei({price:e,onLoginRequired:a}){let{getValues:i}=(0,s.useFormContext)(),{backendUser:c}=(0,l.useAuth)(),m=(0,o.useRouter)(),[u,p]=(0,r.useState)(!1),h=i(),x=async()=>{if(!c){(0,d.toast)("Please log in to complete your booking.",{icon:"ðŸ”’"}),a();return}p(!0);try{let e=e=>{let t=e.split(",");return t.length>1&&t[t.length-2]?.trim()||"City"},t={...h,customer_id:c.id,pickup_city:e(h.pickup_address),delivery_city:e(h.delivery_address)};await n.default.post("/book/",t),d.toast.success("Booking successful! Redirecting..."),m.push("/dashboard/orders")}catch(e){d.toast.error("Booking failed. Please try again."),console.error(e)}finally{p(!1)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"border border-dashed border-gray-300 dark:border-gray-700 rounded-xl p-6 bg-gray-50/50 dark:bg-slate-900/50",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 dark:border-gray-800",children:[(0,t.jsx)("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:"Booking Summary"}),(0,t.jsx)("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-bold uppercase",children:"Draft"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-y-6 gap-x-12 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Service"}),(0,t.jsx)("p",{className:"font-semibold",children:ee[h.service_type]?.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"Date"}),(0,t.jsx)("p",{className:"font-semibold",children:h.requested_pickup_date?new Date(h.requested_pickup_date).toLocaleString():"Not scheduled"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"From"}),(0,t.jsxs)("p",{className:"font-semibold flex items-center gap-1",children:[(0,t.jsx)(H.MapPin,{className:"w-3 h-3 text-blue-500"})," ",h.pickup_address]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider mb-1",children:"To"}),(0,t.jsxs)("p",{className:"font-semibold flex items-center gap-1",children:[(0,t.jsx)(H.MapPin,{className:"w-3 h-3 text-emerald-500"})," ",h.delivery_address]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-800",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Estimated Total"}),(0,t.jsxs)("span",{className:"text-3xl font-black text-gray-900 dark:text-white",children:["$",e?.toFixed(2)]})]})]}),(0,t.jsx)(I.Button,{onClick:x,disabled:u,size:"lg",className:"w-full text-lg h-14 bg-emerald-600 hover:bg-emerald-700 text-white font-bold shadow-xl shadow-emerald-500/20",children:u?(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white/50"})," Processing..."]}):c?"Confirm Booking":"Login to Book"})]})}e.s(["default",()=>et],96601)}]);